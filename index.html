<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Revnex - Launching Soon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes gradient-animation {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      .animated-gradient {
        background: linear-gradient(-45deg, #0f172a, #1e293b, #334155, #0f172a);
        background-size: 400% 400%;
        animation: gradient-animation 15s ease infinite;
      }
      @keyframes fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-fade-in {
        animation: fade-in 0.5s ease-out forwards;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.11.0",
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "react/": "https://esm.sh/react@^19.1.0/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body class="antialiased text-slate-200 bg-slate-900">
    <div id="main-container" class="relative min-h-screen w-full flex flex-col items-center justify-center p-4 sm:p-6 md:p-8 overflow-hidden">
      <div class="absolute inset-0 bg-grid-slate-700/[0.2] [mask-image:linear-gradient(to_bottom,white_20%,transparent_100%)]"></div>
      <div class="relative z-10 w-full max-w-2xl mx-auto text-center">
        
        <header class="mb-8 flex flex-col items-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-20 w-20 mb-4">
            <defs>
              <linearGradient id="nova-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#22d3ee"></stop>
                <stop offset="100%" stop-color="#a5b4fc"></stop>
              </linearGradient>
            </defs>
            <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="url(#nova-gradient)" opacity="0.8"></path>
            <path d="M2 17l10 5 10-5" stroke="url(#nova-gradient)" opacity="0.6"></path>
            <path d="M2 12l10 5 10-5" stroke="url(#nova-gradient)"></path>
          </svg>
          <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-slate-200 to-slate-400">
            Project Revnex is Coming
          </h1>
          <p class="mt-4 text-lg sm:text-xl text-slate-400">
            We're building the future, one line of code at a time. Get ready for something amazing.
          </p>
        </header>

        <main>
          <div id="countdown-container" class="mt-8 flex justify-center items-center space-x-2 sm:space-x-4">
            <div class="flex flex-col items-center justify-center bg-slate-800/50 backdrop-blur-sm rounded-lg p-3 sm:p-4 w-20 sm:w-24">
              <span id="days" class="text-3xl sm:text-4xl font-bold text-slate-100">00</span>
              <span class="text-xs sm:text-sm uppercase tracking-wider text-slate-400 mt-1">Days</span>
            </div>
            <div class="flex flex-col items-center justify-center bg-slate-800/50 backdrop-blur-sm rounded-lg p-3 sm:p-4 w-20 sm:w-24">
              <span id="hours" class="text-3xl sm:text-4xl font-bold text-slate-100">00</span>
              <span class="text-xs sm:text-sm uppercase tracking-wider text-slate-400 mt-1">Hours</span>
            </div>
            <div class="flex flex-col items-center justify-center bg-slate-800/50 backdrop-blur-sm rounded-lg p-3 sm:p-4 w-20 sm:w-24">
              <span id="minutes" class="text-3xl sm:text-4xl font-bold text-slate-100">00</span>
              <span class="text-xs sm:text-sm uppercase tracking-wider text-slate-400 mt-1">Minutes</span>
            </div>
            <div class="flex flex-col items-center justify-center bg-slate-800/50 backdrop-blur-sm rounded-lg p-3 sm:p-4 w-20 sm:w-24">
              <span id="seconds" class="text-3xl sm:text-4xl font-bold text-slate-100">00</span>
              <span class="text-xs sm:text-sm uppercase tracking-wider text-slate-400 mt-1">Seconds</span>
            </div>
          </div>

          <div id="form-section" class="mt-12 mx-auto w-full max-w-md">
            <h2 class="text-xl font-semibold text-slate-300 mb-4">Be the first to know</h2>
            <form id="email-form" class="flex flex-col sm:flex-row gap-2">
              <div class="relative flex-grow">
                <input
                  type="email"
                  id="email-input"
                  placeholder="your.email@example.com"
                  class="w-full px-4 py-3 rounded-md bg-slate-700/50 border border-slate-600 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 outline-none text-slate-100 placeholder-slate-400 transition-colors duration-200 disabled:opacity-50"
                  aria-label="Email Address"
                  required
                />
                <p id="input-error" class="text-red-400 text-sm mt-1 text-left sm:absolute sm:mt-2" style="display: none;"></p>
              </div>
              <button
                type="submit"
                id="submit-button"
                class="relative inline-flex items-center justify-center px-6 py-3 rounded-md bg-cyan-500 text-slate-900 font-semibold hover:bg-cyan-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-cyan-500 transition-all duration-300 ease-in-out disabled:bg-slate-600 disabled:cursor-not-allowed group"
              >
                <span id="button-text">Notify Me</span>
                <span id="button-loader" style="display: none;" class="flex items-center">
                  <svg class="animate-spin -ml-1 mr-3 h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Processing...
                </span>
              </button>
            </form>
          </div>
          
          <div id="message-section" class="mt-12 mx-auto w-full max-w-md" style="display: none;">
             <div id="success-message" class="p-6 bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-lg text-center animate-fade-in shadow-lg shadow-cyan-500/10" style="display: none;">
              <h3 class="text-xl font-semibold text-cyan-300">Welcome to the Waitlist!</h3>
              <p id="gemini-response" class="mt-3 text-lg text-slate-300 italic"></p>
              <p class="mt-4 text-slate-400">We'll be in touch soon. The future awaits!</p>
            </div>
            <div id="error-message" class="p-6 bg-red-900/20 border border-red-700 rounded-lg text-center animate-fade-in" style="display: none;">
              <h3 class="text-xl font-semibold text-red-300">An Error Occurred</h3>
              <p id="error-text" class="mt-2 text-red-400"></p>
              <p class="mt-4 text-slate-400 text-sm">Please try submitting your email again.</p>
            </div>
          </div>
        </main>

        <footer class="mt-16 text-slate-500 text-sm">
          <p>&copy; <span id="current-year"></span> Revnex Corp. All rights reserved.</p>
        </footer>
      </div>
    </div>
    
    <script type="module">
      import { GoogleGenAI } from "@google/genai";

      // --- DOM ELEMENTS ---
      const countdownContainer = document.getElementById('countdown-container');
      const daysEl = document.getElementById('days');
      const hoursEl = document.getElementById('hours');
      const minutesEl = document.getElementById('minutes');
      const secondsEl = document.getElementById('seconds');
      const currentYearEl = document.getElementById('current-year');
      const mainContainer = document.getElementById('main-container');

      const formSection = document.getElementById('form-section');
      const messageSection = document.getElementById('message-section');
      const emailForm = document.getElementById('email-form');
      const emailInput = document.getElementById('email-input');
      const inputErrorEl = document.getElementById('input-error');
      const submitButton = document.getElementById('submit-button');
      const buttonText = document.getElementById('button-text');
      const buttonLoader = document.getElementById('button-loader');

      const successMessageEl = document.getElementById('success-message');
      const errorMessageEl = document.getElementById('error-message');
      const geminiResponseEl = document.getElementById('gemini-response');
      const errorTextEl = document.getElementById('error-text');

      // --- STATE & CONFIG ---
      const launchDate = new Date();
      launchDate.setDate(launchDate.getDate() + 30);
      let isLoading = false;

      // --- INITIALIZATION ---
      const initializeApp = () => {
          if (currentYearEl) currentYearEl.textContent = new Date().getFullYear().toString();
          updateCountdown();
          setInterval(updateCountdown, 1000);
          emailForm?.addEventListener('submit', handleSubscribe);
          mainContainer?.classList.add('animated-gradient');
      };

      // --- COUNTDOWN LOGIC ---
      const updateCountdown = () => {
          const difference = +launchDate - +new Date();
          if (difference <= 0) {
              if (countdownContainer) countdownContainer.innerHTML = '<p class="text-2xl font-bold text-cyan-400">We Have Launched!</p>';
              clearInterval(countdownInterval);
              return;
          }
          const timeLeft = {
              days: Math.floor(difference / (1000 * 60 * 60 * 24)),
              hours: Math.floor((difference / (1000 * 60 * 60)) % 24),
              minutes: Math.floor((difference / 1000 / 60) % 60),
              seconds: Math.floor((difference / 1000) % 60),
          };
          if (daysEl) daysEl.textContent = String(timeLeft.days).padStart(2, '0');
          if (hoursEl) hoursEl.textContent = String(timeLeft.hours).padStart(2, '0');
          if (minutesEl) minutesEl.textContent = String(timeLeft.minutes).padStart(2, '0');
          if (secondsEl) secondsEl.textContent = String(timeLeft.seconds).padStart(2, '0');
      };

      // --- UI UPDATE LOGIC ---
      const setLoadingState = (loading) => {
          isLoading = loading;
          if (emailInput) emailInput.disabled = loading;
          if (submitButton) submitButton.disabled = loading;
          if (buttonText) buttonText.style.display = loading ? 'none' : 'inline';
          if (buttonLoader) buttonLoader.style.display = loading ? 'flex' : 'none';
      };

      const showInputError = (message) => {
          if (inputErrorEl) {
              inputErrorEl.textContent = message;
              inputErrorEl.style.display = message ? 'block' : 'none';
          }
      };

      const showFinalState = (type, text) => {
          if (formSection) formSection.style.display = 'none';
          if (messageSection) messageSection.style.display = 'block';

          if (type === 'success') {
              if (successMessageEl) successMessageEl.style.display = 'block';
              if (errorMessageEl) errorMessageEl.style.display = 'none';
              if (geminiResponseEl) geminiResponseEl.textContent = `"${text}"`;
          } else { // error
              if (successMessageEl) successMessageEl.style.display = 'none';
              if (errorMessageEl) errorMessageEl.style.display = 'block';
              if (errorTextEl) errorTextEl.textContent = text;
              if (formSection) formSection.style.display = 'block'; // Show form again to allow retry
          }
      };
      
      // --- API & FORM SUBMISSION LOGIC ---
      const generateWelcomeMessage = async (email) => {
          if (!process.env.API_KEY) {
              console.error("API_KEY environment variable not set. This must be configured in your deployment environment.");
              throw new Error("Service configuration error. Please contact support.");
          }
          const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
          const prompt = `A user with the email domain "${email.split('@')[1]}" just subscribed to the waitlist for 'Project Revnex', an exciting and mysterious new tech startup. Generate a short (one sentence), witty, and optimistic welcome message for them. Make it sound futuristic and encouraging. Do not mention their email address directly in the response. Just provide the message.`;

          try {
              const response = await ai.models.generateContent({
                  model: 'gemini-2.5-flash',
                  contents: prompt,
                  config: {
                      temperature: 0.8,
                      topP: 0.95,
                      thinkingConfig: { thinkingBudget: 0 }
                  }
              });
              const text = response.text.trim().replace(/^"|"$/g, '');
              return text || "Thank you for subscribing! We're excited to have you on board for the future.";
          } catch (error) {
              console.error('Error generating welcome message:', error);
              throw new Error('Could not generate a welcome message at this time, but we are thrilled to have you!');
          }
      };

      const handleSubscribe = async (e) => {
          e.preventDefault();
          if (isLoading) return;

          const email = emailInput.value;
          if (!email || !/\\S+@\\S+\\.\\S+/.test(email)) {
              showInputError('Please enter a valid email address.');
              return;
          }
          
          showInputError('');
          setLoadingState(true);

          try {
              const welcomeMessage = await generateWelcomeMessage(email);
              showFinalState('success', welcomeMessage);
          } catch (err) {
              const errorMessage = err instanceof Error ? err.message : 'An unexpected error occurred.';
              showFinalState('error', errorMessage);
          } finally {
              setLoadingState(false);
          }
      };

      // --- RUN ---
      document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>
